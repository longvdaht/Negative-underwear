function floatToString(e,t){var o=e.toFixed(t).toString();return o.match(/^\.\d+/)?"0"+o:o}if(console.log("option_selection.js"),void 0===Shopify)var Shopify={};Shopify.each=function(e,t){for(var o=0;o<e.length;o++)t(e[o],o)},Shopify.map=function(e,t){for(var o=[],i=0;i<e.length;i++)o.push(t(e[i],i));return o},Shopify.arrayIncludes=function(e,t){for(var o=0;o<e.length;o++)if(e[o]==t)return!0;return!1},Shopify.uniq=function(e){for(var t=[],o=0;o<e.length;o++)Shopify.arrayIncludes(t,e[o])||t.push(e[o]);return t},Shopify.isDefined=function(e){return void 0!==e},Shopify.getClass=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Shopify.extend=function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.baseConstructor=t,e.superClass=t.prototype},Shopify.urlParam=function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))},Shopify.Product=function(e){Shopify.isDefined(e)&&this.update(e)},Shopify.Product.prototype.update=function(e){for(property in e)this[property]=e[property]},Shopify.Product.prototype.optionNames=function(){return"Array"==Shopify.getClass(this.options)?this.options:[]},Shopify.Product.prototype.optionValues=function(e){if(!Shopify.isDefined(this.variants))return null;var t=Shopify.map(this.variants,(function(t){var o="option"+(e+1);return null==t[o]?null:t[o]}));return null==t[0]?null:Shopify.uniq(t)},Shopify.Product.prototype.getVariant=function(e){var t=null;return e.length!=this.options.length||(Shopify.each(this.variants,(function(o){for(var i=!0,n=0;n<e.length;n++){var r;o["option"+(n+1)]!=e[n]&&(i=!1)}1!=i||(t=o)})),null==t&&-1==$(".single-option-selector option:selected").text().indexOf("Select")?($(".AddToCart").addClass("dead"),$(".not-yet").removeClass("hide")):($(".AddToCart").removeClass("dead"),$(".not-yet").addClass("hide"))),t},Shopify.Product.prototype.getVariantById=function(e){for(var t=0;t<this.variants.length;t++){var o=this.variants[t];if(e==o.id)return o}return null},Shopify.money_format="${{amount}}",Shopify.formatMoney=function(e,t){function o(e,t){return void 0===e?t:e}function i(e,t,i,n){if(t=o(t,2),i=o(i,","),n=o(n,"."),isNaN(e)||null==e)return 0;var r=(e=(e/100).toFixed(t)).split("."),s,a;return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(r[1]?n+r[1]:"")}"string"==typeof e&&(e=e.replace(".",""));var n="",r=/\{\{\s*(\w+)\s*\}\}/,s=t||this.money_format;switch(s.match(r)[1]){case"amount":n=i(e,2);break;case"amount_no_decimals":n=i(e,0);break;case"amount_with_comma_separator":n=i(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=i(e,0,".",",");break}return s.replace(r,n)},Shopify.OptionSelectors=function(e,t){return this.selectorDivClass="selector-wrapper",this.selectorClass="single-option-selector",this.variantIdFieldIdSuffix="-variant-id",this.variantIdField=null,this.historyState=null,this.selectors=[],this.domIdPrefix=e,this.product=new Shopify.Product(t.product),this.onVariantSelected=Shopify.isDefined(t.onVariantSelected)?t.onVariantSelected:function(){},this.replaceSelector(e),this.initDropdown(),t.enableHistoryState&&(this.historyState=new Shopify.OptionSelectors.HistoryState(this)),!0},Shopify.OptionSelectors.prototype.initDropdown=function(){var e={initialLoad:!0},t;if(!this.selectVariantFromDropdown(e)){var o=this;setTimeout((function(){o.selectVariantFromParams(e)||o.fireOnChangeForFirstDropdown.call(o,e)}))}},Shopify.OptionSelectors.prototype.fireOnChangeForFirstDropdown=function(e){this.selectors[0].element.onchange(e)},Shopify.OptionSelectors.prototype.selectVariantFromParamsOrDropdown=function(e){var t;this.selectVariantFromParams(e)||this.selectVariantFromDropdown(e)},Shopify.OptionSelectors.prototype.replaceSelector=function(e){var t=document.getElementById(e),o=t.parentNode;Shopify.each(this.buildSelectors(),(function(e){o.insertBefore(e,t)})),t.style.display="none",this.variantIdField=t},Shopify.OptionSelectors.prototype.selectVariantFromDropdown=function(e){var t=document.getElementById(this.domIdPrefix).querySelector("[selected]");if(!t)return!1;var o=t.value;return this.selectVariant(o,e)},Shopify.OptionSelectors.prototype.selectVariantFromParams=function(e){var t=Shopify.urlParam("variant");return this.selectVariant(t,e)},Shopify.OptionSelectors.prototype.selectVariant=function(e,t){var o=this.product.getVariantById(e);if(null==o)return!1;for(var i=0;i<this.selectors.length;i++){var n=this.selectors[i].element,r,s=o[n.getAttribute("data-option")];null!=s&&this.optionExistInSelect(n,s)&&(n.value=s)}return"undefined"!=typeof jQuery?jQuery(this.selectors[0].element).trigger("change",t):this.selectors[0].element.onchange(t),!0},Shopify.OptionSelectors.prototype.optionExistInSelect=function(e,t){for(var o=0;o<e.options.length;o++)if(e.options[o].value==t)return!0},Shopify.OptionSelectors.prototype.insertSelectors=function(e,t){Shopify.isDefined(t)&&this.setMessageElement(t),this.domIdPrefix="product-"+this.product.id+"-variant-selector";var o=document.getElementById(e);Shopify.each(this.buildSelectors(),(function(e){o.appendChild(e)}))},Shopify.OptionSelectors.prototype.buildSelectors=function(){for(var e=0;e<this.product.optionNames().length;e++){var t=new Shopify.SingleOptionSelector(this,e,this.product.optionNames()[e],this.product.optionValues(e));t.element.disabled=!1,this.selectors.push(t)}var o=this.selectorDivClass,i=this.product.optionNames(),n;return Shopify.map(this.selectors,(function(e){var t=document.createElement("div");if(i.length>1){var n=document.createElement("label"),r=e.element.id;r=r.replace("-button",""),n.htmlFor=r;var s=e.element.classList,a="x";$.each(s,(function(e,t){-1!=t.indexOf("values-")&&(a=t)})),n.setAttribute("class",a),n.innerHTML=e.name,o+=" "+e.name,t.appendChild(n)}return t.setAttribute("class",o),t.appendChild(e.element),t}))},Shopify.OptionSelectors.prototype.selectedValues=function(){for(var e=[],t=0;t<this.selectors.length;t++){var o=this.selectors[t].element.value;e.push(o)}return e},Shopify.OptionSelectors.prototype.updateSelectors=function(e,t){$(".AddToCart").removeClass("dead"),$(".not-yet").addClass("hide");var o=this.selectedValues(),i=this.product.getVariant(o),n=$(".product-holder").data("product-type"),r=o[0],s="negative-size-"+n;if("wired-bra"==n&&(r=o[0]+","+o[1]),"Select"!=r&&Cookies.set(s,r,{expires:365}),0==e){var a=o,l,d,p,c=3==this.selectors.length?1:0,h,u=!1,f="standard";-1!=this.selectors[this.selectors.length-1].element.childNodes[0].value.indexOf("Single")&&(c=0,u=!0);for(var m=0;m<this.selectors.length;m++)if(l=this.selectors[m],d=this.selectors[this.selectors.length-1],m==c){var y=l.element;if($(y.childNodes[1]).is("optgroup")&&(f="plus"),"standard"==f)for(var S=0;S<y.childNodes.length;S++){var v;if(a=c>0?[o[0]]:[],p=y.childNodes[S].value)a.push(p),a.push(o[c+1]),u&&"Single"!=o[c+1]&&a.push("Single"),(v=this.product.getVariant(a))?($(y.childNodes[S]).removeClass("dead"),$(".AddToCart").removeClass("dead"),$(".not-yet").addClass("hide"),v.available&&v.inventory_quantity>0?($(y.childNodes[S]).removeClass("soldout disabled"),$(".AddToCart").removeClass("dead"),$(".not-yet").addClass("hide"),u&&$(y).find("option:checked").val()==p&&($(d.element).find("option").addClass("soldout disabled"),$(d.element).find('option:contains("Single")').removeClass("soldout disabled"),v.inventory_quantity>=2&&$(d.element).find('option:contains("2-Pack")').removeClass("soldout disabled"),v.inventory_quantity>=3&&$(d.element).find('option:contains("3-Pack")').removeClass("soldout disabled"),v.inventory_quantity>=5&&$(d.element).find('option:contains("5-Pack")').removeClass("soldout disabled"),v.inventory_quantity>=10&&$(d.element).find('option:contains("10-Pack")').removeClass("soldout disabled"))):(null!=v.inventory_management&&$(y.childNodes[S]).addClass("soldout disabled"),u&&$(y).find("option:checked").val()==p&&$(d.element).find("option").addClass("soldout disabled"))):$(y.childNodes[S]).addClass("soldout disabled dead")}else for(var g=0;g<y.childNodes.length;g++)for(var S=0;S<y.childNodes[g].childNodes.length;S++){var v;if(a=c>0?[o[0]]:[],p=y.childNodes[g].childNodes[S].value)a.push(p),a.push(o[c+1]),u&&a.push("Single"),(v=this.product.getVariant(a))?v.available&&v.inventory_quantity>0?($(y.childNodes[g].childNodes[S]).removeClass("soldout disabled"),u&&$(y).find("option:checked").val()==p&&($(d.element).find("option").addClass("soldout disabled"),$(d.element).find('option:contains("Single")').removeClass("soldout disabled"),v.inventory_quantity>=2&&$(d.element).find('option:contains("2-Pack")').removeClass("soldout disabled"),v.inventory_quantity>=3&&$(d.element).find('option:contains("3-Pack")').removeClass("soldout disabled"),v.inventory_quantity>=5&&$(d.element).find('option:contains("5-Pack")').removeClass("soldout disabled"))):(null!=v.inventory_management&&$(y.childNodes[g].childNodes[S]).addClass("soldout disabled"),u&&$(y).find("option:checked").val()==p&&$(d.element).find("option").addClass("soldout disabled")):$(y.childNodes[g].childNodes[S]).addClass("soldout disabled")}}}i?(this.variantIdField.disabled=!1,this.variantIdField.value=i.id):this.variantIdField.disabled=!0,this.onVariantSelected(i,this,t),null!=this.historyState&&this.historyState.onVariantChange(i,this,t)},Shopify.OptionSelectorsFromDOM=function(e,t){var o=t.optionNames||[],i=t.priceFieldExists||!0,n=t.delimiter||"/",r=this.createProductFromSelector(e,o,i,n);t.product=r,Shopify.OptionSelectorsFromDOM.baseConstructor.call(this,e,t)},Shopify.extend(Shopify.OptionSelectorsFromDOM,Shopify.OptionSelectors),Shopify.OptionSelectorsFromDOM.prototype.createProductFromSelector=function(e,t,o,i){if(!Shopify.isDefined(o))var o=!0;if(!Shopify.isDefined(i))var i="/";var n=document.getElementById(e),r=n.childNodes,s=n.parentNode,a=t.length,l=[],d=this;Shopify.each(r,(function(e,n){if(1==e.nodeType&&"option"==e.tagName.toLowerCase()){var r=e.innerHTML.split(new RegExp("\\s*\\"+i+"\\s*"));0==t.length&&(a=r.length-(o?1:0));var s=r.slice(0,a),d=o?r[a]:"",p=e.getAttribute("value"),c={available:!e.disabled,id:parseFloat(e.value),price:d,option1:s[0],option2:s[1],option3:s[2]};l.push(c)}}));var p={variants:l};if(0==t.length){p.options=[];for(var c=0;c<a;c++)p.options[c]="option "+(c+1)}else p.options=t;return p},Shopify.SingleOptionSelector=function(e,t,o,i){if(this.multiSelector=e,this.values=i,this.index=t,this.name=o,this.element=document.createElement("select"),this.sizingStyle="standard","Size"==this.name)for(var n=0;n<e.product.tags.length;n++)if("Plus Bra Sizing"==e.product.tags[n]){this.sizingStyle="plus";break}if("plus"==this.sizingStyle){var r=document.createElement("optgroup");r.label="A-DD";var s=document.createElement("optgroup");s.label="DDD/G";for(var a=0;a<i.length;a++){var l;(l=document.createElement("option")).value=i[a],l.innerHTML=i[a],-1!=i[a].indexOf("+")?s.appendChild(l):r.appendChild(l)}this.element.appendChild(r),this.element.appendChild(s)}else for(var a=0;a<i.length;a++){var l;(l=document.createElement("option")).value=i[a],l.innerHTML=i[a],this.element.appendChild(l)}var d=this.multiSelector.selectorClass+" values-"+i.length+" "+this.name;return this.element.setAttribute("class",d),this.element.setAttribute("data-option","option"+(t+1)),this.element.id=e.domIdPrefix+"-option-"+t,this.element.onchange=function(o,i){i=i||{},e.updateSelectors(t,i)},!0},Shopify.Image={preload:function(e,t){for(var o=0;o<e.length;o++){var i=e[o];this.loadImage(this.getSizedImageUrl(i,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,o){if(e&&t){var i=this.imageSize(t.src),n=this.getSizedImageUrl(e.src,i);o?o(n,e,t):t.src=n}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e,t){if(null==t)return e;if("master"==t)return this.removeProtocol(e);var o=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=o){var i=e.split(o[0]),n=o[0];return this.removeProtocol(i[0]+"_"+t+n)}return null},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},Shopify.OptionSelectors.HistoryState=function(e){this.browserSupports()&&this.register(e)},Shopify.OptionSelectors.HistoryState.prototype.register=function(e){window.addEventListener("popstate",(function(t){e.selectVariantFromParamsOrDropdown({popStateCall:!0})}))},Shopify.OptionSelectors.HistoryState.prototype.onVariantChange=function(e,t,o){this.browserSupports()&&(!e||o.initialLoad||o.popStateCall||window.history.replaceState({},document.title,"?variant="+e.id))},Shopify.OptionSelectors.HistoryState.prototype.browserSupports=function(){return window.history&&window.history.replaceState};